"use strict";var qs=document.querySelector.bind(document);var debounce=require("./lib/debounce");var MiloGrid=function(i){if(!i||typeof i!=="object"){throw new Error("Need to add at least a container")}this.containerEl=qs(i.container);this.children=this.containerEl.children;this.margin=i.margin||6;this.padding=i.padding||10;this.width=i.width||220;this._resizeBind()};var MiloGridProto=MiloGrid.prototype;MiloGridProto._calcTopPosition=function(i){return i>=this.containerGrids?this.topOffset[i-this.containerGrids]:0};MiloGridProto.buildGrid=function(){var i=0;var t=this.children.length;this.topOffset=[];this.containerWidth=this.containerEl.clientWidth;this.containerSpace=this.containerWidth%(this.width+this.margin);this.containerGrids=(this.containerWidth-this.containerSpace)/(this.width+this.margin);for(i;i<t;i++){this.children[i].style.cssText="margin:"+this.margin/2+";"+"padding:"+this.padding+";"+"top:"+this._calcTopPosition(i)+";"+"left:"+(this.width+this.margin)*Math.round(i%this.containerGrids)+";"+"width:"+this.width+";";this.topOffset.push(this.children[i].offsetHeight+this.margin+this.children[i].offsetTop)}};MiloGridProto._destroyGrid=function(){var i=0;var t=this.children.length;for(i;i<t;i++){this.children[i].style.cssText=""}};MiloGridProto._resizeBind=function(){var i=function(){this.buildGrid()}.bind(this);window.addEventListener("resize",debounce(i,600))};var Milo=function(i){var t=new MiloGrid(i);this.buildGrid=t.buildGrid.bind(t)};module.exports=Milo;