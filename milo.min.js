"use strict";var debounce=require("./lib/debounce"),qs=document.querySelector.bind(document),MiloGrid=function(i){if(!i||"object"!=typeof i)throw new Error("Need to add at least a container");this.containerEl=qs(i.container),this.children=this.containerEl.children,this.gridItemMargin=i.margin||10,this.gridItemWidth=i.width||210,this._resizeBind()},MiloGridProto=MiloGrid.prototype;MiloGridProto._calcTopPosition=function(i){return i>=this.gridColumns?this.topOffset[i-this.gridColumns]:0},MiloGridProto._calcGridColumns=function(){this.containerWidth=this.containerEl.clientWidth,this.gridColumns=Math.floor(this.containerWidth/(this.gridItemWidth+this.gridItemMargin))},MiloGridProto.buildGrid=function(){var i=0,t=this.children.length;for(this.topOffset=[],this._calcGridColumns(),i;t>i;i++)this.children[i].style.cssText="margin:"+this.gridItemMargin/2+";top:"+this._calcTopPosition(i)+";left:"+(this.gridItemWidth+this.gridItemMargin)*Math.round(i%this.gridColumns)+";width:"+this.gridItemWidth+";",this.topOffset.push(this.children[i].offsetHeight+this.gridItemMargin+this.children[i].offsetTop)},MiloGridProto._destroyGrid=function(){var i=0,t=this.children.length;for(i;t>i;i++)this.children[i].style.cssText=""},MiloGridProto._resizeBind=function(){var i=function(){this.buildGrid()}.bind(this);window.addEventListener("resize",debounce(i,600))};var Milo=function(i){var t=new MiloGrid(i);this.buildGrid=t.buildGrid.bind(t)};module.exports=Milo;